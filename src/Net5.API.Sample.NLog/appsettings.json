{
  "ConnectionStrings": {
    "Sample.NLog": "" 
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information"
    },
    "NLog": {
      "IncludeScopes": true
    }
  },
  "NLog": {
    "autoReload": true,
    "throwConfigExceptions": true,
    "extensions": [],
    "targets": {
      "async": true,
      "database": {
        "type": "Database",
        "dbProvider": "Microsoft.Data.SqlClient.SqlConnection, Microsoft.Data.SqlClient",
        "connectionString": "${configsetting:item=ConnectionStrings.MyDb}",
        "commandText": "INSERT INTO [LogEntries] ([Message], [Level], [Date]) VALUES (@Message, @Level, @Date)",
        "parameters": [
          {
            "name": "@Message",
            "layout": "${message:truncate=1000}"
          },
          {
            "name": "@Level",
            "layout": "${event-properties:levelId}"
          },
          {
            "name": "@Date",
            "layout": "${event-properties:date}",
            "dbType": "DbType.DateTime"
          }
        ]
      }
    },
    "rules": [
      {
        "logger": "*",
        "minLevel": "Trace",
        "writeTo": "database"
      }
    ]
  },
  "AllowedHosts": "*"
}
